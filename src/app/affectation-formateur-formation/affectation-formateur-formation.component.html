<div class="container spacer">
  <div class="col-lg-13 ">
    <div class="card">
      <div class="card-header bg-primary text-white">  <h3 style="text-align: center">Affectation Formateur</h3>  </div>

      <div class="card-body">
<div style=" margin-bottom: 50px;" class="form-group">
        <h2 style="color: brown; font-size: 2.6rem;">{{aff.formation.nom  }} de {{aff.formation.datedebut | date:'dd-MM-yyyy'}} a {{aff.formation.datefin | date:'dd-MM-yyyy'}}</h2> 
</div>
       
      <div class="input-group">
      
        <div class="col-md-4 mb-3">
          <label><h6>Formateur </h6></label>
        
          <select [class.is-invalid]="f.invalid && f.touched"  [(ngModel)]="aff.formateur" #f="ngModel"  name="formtr" class="form-control form-control-sm"  id="exampleFormControlSelect3" required>
              <option *ngFor=" let c of listFormateur" [ngValue]="c">{{c.cin+' '+ c.nom}}</option>
           
            </select>
        
            <div *ngIf="f.invalid && (f.dirty || f.touched)">

              <small class="text-danger" *ngIf="f?.errors.required">
                <p>    formateur is required. </p> 
              </small>
            
        </div>
        
        </div>
        <div class="form-group">
          <label><h6>DateDebut</h6></label>
          <input [class.is-invalid]="dd.invalid && dd.touched" type="date" #dd="ngModel"  class="form-control col-md-16" style="margin-right: 10px" required [(ngModel)]="aff.datedebut"/>

          <div *ngIf="dd.invalid && (dd.dirty || dd.touched)">

            <small class="text-danger" *ngIf="dd?.errors.required">
              <p>    date debut is required. </p> 
            </small>
          
      </div>

        </div>
        <div class="form-group">
          <label><h6>Date Fin</h6></label>
          <input type="date" class="form-control col-md-16"  [(ngModel)]="aff.datefin"/>


        </div>
      </div>
        <button [disabled]="f.invalid || dd.invalid" type="submit" class="btn btn-primary" style="margin-bottom: 10px" (click)="affecter()">Affecter</button>




        <table class="table">
          <thead class="thead-dark">
          <tr>

            <th scope="col">Cin Formateur</th>
            <th scope="col">Nom </th>   
              <th scope="col">Prenom </th>
              <th scope="col">Date debut </th>
              <th scope="col">Date fin </th>
            <th scope="col">Action</th>
          </tr>
          </thead>



          <tbody>
          <tr *ngFor=" let c of listFormationFormateur?.content">

            <td> {{c.formateur.cin}}</td>
            <td>{{c.formateur.nom}}</td>
            <td>{{c.formateur.prenom}}</td>
            <td>{{c.datedebut}}</td>
            <td>{{c.datefin}}</td>

            <td>

              <a (click)="affecterSeance(c.id)"  class="btn btn-secondary" >Seance </a>
              <a (click)="edit(c.id)"  class="btn btn-success" >Edit</a>
              <a  (click)="delete(c)" class="btn btn-danger">Delete</a>

            </td>

          </tr>
          </tbody>
        </table>

        <nav aria-label="...">
          <ul class="pagination justify-content-center">
            <li [ngClass]="{'active':p==pag}" class="page-item" *ngFor=" let i of pages; let p=index">
              <a class="page-link" (click)="setPage(p,$event)">{{p}}</a>
            </li>

          </ul>
        </nav>

      </div>
    </div>
  </div>
